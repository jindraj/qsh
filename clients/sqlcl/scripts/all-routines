#!/bin/bash

QUERY_CUSTOMIZATION=$2

cat <<EOF > $1
select * from (
  select OWNER as ROUTINE_SCHEMA, OBJECT_NAME as ROUTINE_NAME, OBJECT_TYPE as ROUTINE_TYPE
  from ALL_PROCEDURES
  where OBJECT_TYPE in ('FUNCTION', 'PROCEDURE', 'PACKAGE')
  order by 1, 2
) t
$QUERY_CUSTOMIZATION;
EOF

